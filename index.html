<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gus's Casino - Fully Fixed & Beautiful</title>
<!-- Loaders for cool animations -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/uiverse/loaders/dist/loaders.min.css" />
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #2c3e50, #4ca1af);
    color: #fff;
    margin: 0;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    font-size: 3em;
    margin-bottom: 0.2em;
    color: #f39c12;
    text-shadow: 2px 2px 4px #000;
  }

  #quote {
    font-style: italic;
    font-size: 1.2em;
    margin-bottom: 1em;
    max-width: 700px;
    text-align: center;
  }

  #balance {
    font-size: 2em;
    margin-bottom: 1em;
    padding: 0 20px;
    background: rgba(0,0,0,0.3);
    border-radius: 10px;
  }

  /* Bet input styling */
  .bet-controls {
    display: flex;
    gap: 10px;
    align-items: center;
    margin: 1em 0;
  }
  #betAmount {
    width: 80px;
    padding: 8px;
    font-size: 1em;
    border-radius: 8px;
    border: none;
  }

  /* Game buttons styling */
  .game-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 2em;
  }
  button {
    background: linear-gradient(135deg, #f7971e, #ffd200);
    border: none;
    padding: 12px 20px;
    border-radius: 10px;
    font-size: 1em;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.2s;
  }
  button:hover {
    transform: scale(1.05);
    background: linear-gradient(135deg, #f2994a, #ffc107);
  }

  /* Game area container */
  #game-area {
    width: 100%;
    max-width: 600px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* Loader containers for animations */
  .loader-container {
    margin: 1em 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 60px;
  }

  /* Coin flip style */
  #coin {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    border: 8px solid #fff;
    background: linear-gradient(135deg, #f1c40f, #f39c12);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: transform 0.8s ease;
  }
  #coin.flip {
    transform: rotateY(1800deg);
  }

  /* Slot machine styles */
  #slot-machine {
    display: flex;
    gap: 15px;
    margin-top: 1em;
  }
  .reel {
    width: 80px;
    height: 80px;
    border: 4px solid #fff;
    border-radius: 8px;
    background-color: #34495e;
    font-size: 2.5em;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
    transition: all 0.2s;
  }
  #spin-btn {
    padding: 12px 24px;
    margin-top: 1em;
    font-size: 1.2em;
  }

  /* Dice display style */
  #dice {
    font-size: 8em;
    margin: 1em 0;
  }

  /* Result message style */
#result {
  margin-top: 2em;
  font-size: 1.3em;
  max-width: 700px;
  padding: 0 20px;
  text-align: center;
  transition: opacity 0.5s ease, height 0.5s ease;
}
#result.hidden {
  opacity: 0;
  height: 0;
  overflow: hidden;
}
</style>
</head>
<body>

<h1>Gus's Casino</h1>
<div id="quote">"99.9% of gamblers quit before their big win." - Gus</div>
<div id="balance">Balance: $<span id="money">1000</span></div>

<div class="bet-controls">
  <label for="betAmount">Bet amount: $</label>
  <input type="number" id="betAmount" min="1" value="10" />
</div>

<div class="game-buttons">
  <button onclick="showGame('coin')">Coin Flip</button>
  <button onclick="showGame('slot')">Slot Machine</button>
  <button onclick="showGame('dice')">Dice Roll</button>
</div>

<div id="game-area">
  <!-- Coin Flip -->
  <div id="coin" style="display:none;">
    <div>
      <p>Pick Heads or Tails:</p>
      <button onclick="setCoinGuess('Heads')">Heads</button>
      <button onclick="setCoinGuess('Tails')">Tails</button>
    </div>
    <div id="coin" onclick="flipCoin()">Flip Coin</div>
    <div id="coin-choice" style="margin-top:1em;">Your choice: <span id="coin-choice-text">None</span></div>
    <div class="loader-container" id="coin-loader" style="display:none;">
      <div class="loader loader-ellipsis"></div>
    </div>
  </div>
  <!-- Slot Machine -->
  <div id="slot" style="display:none;">
    <div id="slot-machine">
      <div class="reel" id="reel1">üçí</div>
      <div class="reel" id="reel2">üçã</div>
      <div class="reel" id="reel3">üçá</div>
    </div>
    <button id="spin-btn" onclick="spinSlot()">Spin Slots</button>
    <div class="loader-container" id="slot-loader" style="display:none;">
      <div class="loader loader-ellipsis"></div>
    </div>
  </div>
  <!-- Dice -->
  <div id="dice" style="display:none;">
    <p>Guess a number (1-6):</p>
    <input type="number" id="dice-guess" min="1" max="6" value="1" />
    <button onclick="rollDice()">Roll Dice</button>
    <div id="dice-result" style="margin-top:1em;">üé≤</div>
    <div class="loader-container" id="dice-loader" style="display:none;">
      <div class="loader loader-ellipsis"></div>
    </div>
  </div>
</div>

<div id="result"></div>

<script src="https://cdn.jsdelivr.net/gh/uiverse/loaders/dist/loaders.min.js"></script>
<script>
  let balance=1000;
  let coinGuess=null;

  const balanceSpan=document.getElementById('money');
  const resultDiv=document.getElementById('result');

  function showGame(g){
    document.querySelectorAll('#game-area > div').forEach(d=>d.style.display='none');
    document.getElementById(g).style.display='block';
    resetResults();
  }

  function resetResults(){
    const res=document.getElementById('result');
    res.innerText='';
    res.classList.remove('hidden');
  }

  function updateBalance(){
    document.getElementById('money').innerText=balance;
  }

  function setCoinGuess(choice){
    coinGuess=choice;
    document.getElementById('coin-choice-text').innerText=choice;
  }

  // -------- Coin Flip --------
  function flipCoin() {
    if(!coinGuess){
      alert('Pick Heads or Tails.');
      return;
    }
    const bet=parseInt(document.getElementById('betAmount').value);
    if(bet>balance){ alert('Not enough funds'); return; }

    // Show loader
    document.getElementById('coin-loader').style.display='flex';

    const coinDiv=document.getElementById('coin');
    coinDiv.classList.remove('flip');
    setTimeout(()=>{ coinDiv.classList.add('flip'); },10);
    setTimeout(()=>{
      const outcome=Math.random()>0.5?'Heads':'Tails';
      coinDiv.innerText=outcome;
    },400);
    setTimeout(()=>{
      document.getElementById('coin-loader').style.display='none';
      if(coinGuess===coinDiv.innerText){
        balance+=10;
        showResult(`It's ${coinDiv.innerText}. You won $10!`);
      }else{
        balance-=10;
        showResult(`It's ${coinDiv.innerText}. You lost $10.`);
      }
      updateBalance();
      coinGuess=null;
    },800);
  }

  // -------- Slot Machine --------
  const symbols=['üçí','üçã','üçá','üîî','‚≠ê','üíé'];
  let spinning=false;

  function spinSlot() {
    if(spinning){ alert('Already spinning!'); return; }
    const bet=parseInt(document.getElementById('betAmount').value);
    if(bet>balance){ alert('Not enough funds'); return; }
    spinning=true;
    document.getElementById('slot-loader').style.display='flex';
    document.getElementById('spin-btn').disabled=true;

    const reels=["reel1","reel2","reel3"];
    const finalResults=[];

    // Animate: rapid change for each reel
    const intervals=[];
    for(let i=0;i<3;i++){
      intervals[i]=setInterval(()=>{
        document.getElementById(reels[i]).innerText=symbols[Math.floor(Math.random()*symbols.length)];
      },50);
    }

    // Stop after 1.5 seconds
    setTimeout(()=>{
      for(let i=0;i<3;i++) clearInterval(intervals[i]);
      // Assign final symbols
      for(let i=0;i<3;i++){
        finalResults[i]=symbols[Math.floor(Math.random()*symbols.length)];
        document.getElementById(reels[i]).innerText=finalResults[i];
      }

      // Check for jackpot
      if(finalResults[0]===finalResults[1] && finalResults[1]===finalResults[2]){
        balance+=bet*5;
        showResult('üéâ Jackpot! You won $'+(bet*5)+'!');
      }else{
        balance-=bet;
        showResult('Try again! You lost $'+bet+'.');
      }
      updateBalance();
      document.getElementById('slot-loader').style.display='none';
      document.getElementById('spin-btn').disabled=false;
      spinning=false;
    },1500);
  }

  // -------- Dice --------
  function rollDice() {
    const guess=parseInt(document.getElementById('dice-guess').value);
    if(guess<1 || guess>6 || isNaN(guess)){
      alert('Pick 1-6');
      return;
    }
    const bet=parseInt(document.getElementById('betAmount').value);
    if(bet>balance){ alert('Not enough funds'); return; }

    // Show loader
    const diceDiv=document.getElementById('dice');
    diceDiv.innerText='üé≤ rolling...';
    diceDiv.style.opacity=0;
    document.getElementById('dice-loader').style.display='flex';

    setTimeout(()=>{
      document.getElementById('dice-loader').style.display='none';
      const roll=Math.floor(Math.random()*6)+1;
      diceDiv.innerText='üé≤ '+roll;
      if(roll===guess){
        balance+=15;
        showResult('You guessed '+guess+'. You won $15!');
      }else{
        balance-=10;
        showResult('You guessed '+guess+'. You lost $10.');
      }
      diceDiv.style.opacity=1;
      updateBalance();
    },1500);
  }

  // -------- Show message that disappears after 4 sec --------
  function showResult(msg){
    const res=document.getElementById('result');
    res.innerText=msg;
    res.classList.remove('hidden');
    setTimeout(()=>{ res.classList.add('hidden'); },4000);
  }

  // -------- Initialize --------
  updateBalance();
  showGame('coin');
</script>
</body>
</html>
