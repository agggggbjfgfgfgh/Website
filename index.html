<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gus's Casino</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #1e1e2f;
    color: #ecf0f1;
    margin: 0;
    padding: 20px;
    text-align: center;
  }

  h1 {
    font-size: 3em;
    margin-bottom: 0.2em;
    color: #f39c12;
  }

  #quote {
    font-style: italic;
    font-size: 1.2em;
    margin-bottom: 1em;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    padding: 0 10px;
  }

  #balance {
    font-size: 1.5em;
    margin-bottom: 1em;
  }

  /* Button styles */
  .game-buttons {
    margin-bottom: 2em;
  }
  button {
    background: linear-gradient(to right, #f7971e, #ffd200);
    border: none;
    padding: 12px 24px;
    margin: 8px;
    font-size: 1em;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
  }
  button:hover {
    transform: scale(1.05);
    background: linear-gradient(to right, #f2994a, #ffc107);
  }

  #game-area {
    margin-top: 2em;
  }

  /* Roulette styles */
  #roulette-container {
    position: relative;
    width: 400px;
    height: 400px;
    margin: 0 auto 2em auto;
  }
  #roulette {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 12px solid #fff;
    background: conic-gradient(
      #e74c3c 0deg 60deg,
      #2c3e50 60deg 120deg,
      #e74c3c 120deg 180deg,
      #27ae60 180deg 240deg,
      #2c3e50 240deg 300deg,
      #e74c3c 300deg 360deg
    );
    position: relative;
  }

  #pointer {
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    width: 0; height: 0;
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 20px solid #fff;
    z-index: 10;
  }

  #ball {
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: #fff;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    margin-top: -200px; /* radius */
    margin-left: -10px;
    transform: translate(0, 0);
    transition: none; /* No movement needed */
  }

  /* Fixed on red, no movement */
  /* Coin flip styles */
  #coin {
    width: 200px;
    height: 200px;
    margin: 0 auto;
    border-radius: 50%;
    border: 8px solid #fff;
    background: linear-gradient(135deg, #f1c40f, #f39c12);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: transform 0.8s ease;
    perspective: 1000px;
  }

  #coin.flip {
    transform: rotateY(1800deg);
  }

  /* Slot machine styles */
  #slot-machine {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 1em;
  }

  .reel {
    width: 80px;
    height: 80px;
    margin: 0 10px;
    border: 4px solid #fff;
    border-radius: 8px;
    background-color: #34495e;
    font-size: 2.5em;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Arial', sans-serif;
  }

  #spin-btn {
    padding: 12px 24px;
    font-size: 1.2em;
    background: linear-gradient(to right, #f7971e, #ffd200);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 1em;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  }
  #spin-btn:hover {
    transform: scale(1.05);
    background: linear-gradient(to right, #f2994a, #ffc107);
  }

  /* Result display */
  #result {
    margin-top: 2em;
    font-size: 1.3em;
    min-height: 1.5em;
  }
</style>
</head>
<body>

<h1>Gus's Casino</h1>
<div id="quote">"99.9% of gamblers quit before their big win." - Gus</div>
<div id="balance">Balance: $<span id="money">1000</span></div>

<div class="game-buttons">
  <button onclick="showGame('roulette')">Roulette</button>
  <button onclick="showGame('coin')">Coin Flip</button>
  <button onclick="showGame('slot')">Slot Machine</button>
  <button onclick="showGame('dice')">Dice Roll</button>
  <button onclick="showGame('blackjack')">Blackjack</button>
</div>

<div id="game-area">

  <!-- Roulette -->
  <div id="roulette-area" style="display:none;">
    <div id="roulette-container">
      <div id="pointer"></div>
      <div id="roulette">
        <div id="ball"></div>
      </div>
    </div>
    <button style="margin-top:20px;" onclick="spinRoulette()">Spin Roulette</button>
  </div>

  <!-- Coin Flip -->
  <div id="coin-area" style="display:none;">
    <div id="coin" onclick="flipCoin()">Flip Coin</div>
  </div>

  <!-- Slot Machine -->
  <div id="slot-area" style="display:none;">
    <div id="slot-machine">
      <div class="reel" id="reel1">üçí</div>
      <div class="reel" id="reel2">üçã</div>
      <div class="reel" id="reel3">üçá</div>
    </div>
    <button id="spin-btn" onclick="spinSlot()">Spin Slots</button>
  </div>

  <!-- Dice Roll -->
  <div id="dice-area" style="display:none;">
    <button onclick="rollDice()">Roll Dice</button>
    <div id="dice-result" style="margin-top:1em; font-size:2em;"></div>
  </div>

  <!-- Blackjack -->
  <div id="blackjack-area" style="display:none;">
    <button onclick="startBlackjack()">Start Blackjack</button>
    <div id="blackjack-game" style="margin-top:1em;"></div>
  </div>

</div>

<div id="result"></div>

<!-- Sounds -->
<audio id="spinSound" src="https://www.soundjay.com/misc/sounds/slot-machine-1.mp3" preload="auto"></audio>
<audio id="winSound" src="https://www.soundjay.com/misc/sounds/coin-1.wav" preload="auto"></audio>
<audio id="loseSound" src="https://www.soundjay.com/misc/sounds/lose-1.wav" preload="auto"></audio>

<script>
  let balance = 1000;
  const moneySpan = document.getElementById('money');
  const resultDiv = document.getElementById('result');

  const roulette = document.getElementById('roulette');
  const ball = document.getElementById('ball');

  const spinSound = document.getElementById('spinSound');
  const winSound = document.getElementById('winSound');
  const loseSound = document.getElementById('loseSound');

  let currentGame = 'roulette';

  function showGame(game) {
    document.querySelectorAll('#game-area > div').forEach(div => div.style.display='none');
    document.getElementById(game + '-area').style.display='block';
    currentGame=game;
    resetResults();
  }

  function resetResults() {
    document.querySelector('#dice-result').innerText='';
    document.getElementById('blackjack-game') && (document.getElementById('blackjack-game').innerHTML='');
    document.getElementById('result').innerText='';
  }

  function updateBalance() {
    moneySpan.innerText = balance;
  }

  function getBet() {
    const betStr = prompt("Enter your bet amount:", "10");
    const bet = parseInt(betStr);
    if (isNaN(bet) || bet <= 0 || bet > balance) {
      alert('Invalid bet.');
      return null;
    }
    return bet;
  }

  // -------- Roulette ----------
  function spinRoulette() {
    const betAmount = 10; // fixed for demo
    if (betAmount > balance) {
      alert('Not enough funds!');
      return;
    }
    // Bet on red always
    const betColor='red';

    // Spin wheel
    const spins = Math.floor(Math.random() * 3 + 3);
    const spinDeg = Math.floor(Math.random() * 360);
    const totalDeg = 360 * spins + spinDeg;
    roulette.style.transition='transform 4s cubic-bezier(0.33, 1, 0.68, 1)';
    roulette.style.transform=`rotate(${totalDeg}deg)`;

    // Animate ball (fixed position)
    animateBall(spinDeg, totalDeg);

    setTimeout(() => {
      const finalDeg=totalDeg%360;
      const sector=getSector(finalDeg);
      let win=false;
      let payout=0;
      if (sector===betColor) {
        win=true;
        payout=20;
      }
      if (win) {
        balance+=payout - betAmount;
        resultDiv.innerText=`Landed on ${sector}. You won $${payout}!`;
        winSound.play();
      } else {
        balance-=betAmount;
        resultDiv.innerText=`Landed on ${sector}. You lost $${betAmount}.`;
        loseSound.play();
      }
      updateBalance();
    }, 4200);
  }

  function animateBall(startDeg, totalDeg) {
    const duration=4000;
    const startTime=performance.now();

    function animate(currentTime) {
      const elapsed=currentTime-startTime;
      const progress=Math.min(elapsed/duration,1);
      const currentDeg=startDeg+(totalDeg-startDeg)*progress;
      const radius=180;
      const radians=(currentDeg*Math.PI)/180;
      const x=Math.cos(radians)*radius;
      const y=Math.sin(radians)*radius;
      ball.style.transform=`translate(${x}px,${y}px)`;
      if (progress<1) requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
  }

  function getSector(deg) {
    if (deg>=0 && deg<60) return 'red';
    if (deg>=60 && deg<120) return 'black';
    if (deg>=120 && deg<180) return 'red';
    if (deg>=180 && deg<240) return 'green';
    if (deg>=240 && deg<300) return 'black';
    return 'red';
  }

  // -------- Coin Flip --------
  function flipCoin() {
    const betAmount = getBet();
    if (betAmount===null) return;
    const coinDiv=document.getElementById('coin');
    coinDiv.classList.remove('flip'); // reset
    // Animate flip
    setTimeout(()=>{ coinDiv.classList.add('flip'); }, 10);
    setTimeout(()=>{
      // Reveal answer after flip
      const outcome=Math.random()>0.5?'Heads':'Tails';
      coinDiv.innerText=outcome;
    }, 400);
    // Final result after flip
    setTimeout(()=>{
      const userChoice=prompt('Bet on Heads or Tails? (Type "Heads" or "Tails")', 'Heads');
      if (!userChoice || (userChoice!=='Heads' && userChoice!=='Tails')) {
        alert('Invalid choice.');
        return;
      }
      if (userChoice===coinDiv.innerText) {
        balance+=betAmount;
        resultDiv.innerText=`It's ${coinDiv.innerText}. You won $${betAmount}!`;
        winSound.play();
      } else {
        balance-=betAmount;
        resultDiv.innerText=`It's ${coinDiv.innerText}. You lost $${betAmount}.`;
        loseSound.play();
      }
      updateBalance();
    }, 800);
  }

  // -------- Slot Machine --------
  const slotSymbols=['üçí','üçã','üçá','üîî','‚≠ê','üíé'];
  let spinning=false;
  function spinSlot() {
    if (spinning) return;
    const betAmount=getBet();
    if (betAmount===null) return;
    spinning=true;
    document.getElementById('spin-btn').disabled=true;
    spinSound.play();

    const reels=[
      document.getElementById('reel1'),
      document.getElementById('reel2'),
      document.getElementById('reel3')
    ];
    const maxSpins=[20,25,30];

    let results=[null,null,null];
    let completed=0;

    reels.forEach((reel,idx)=>{
      let count=0;
      const interval=setInterval(()=>{
        reel.innerText=slotSymbols[Math.floor(Math.random()*slotSymbols.length)];
        count++;
        if (count>=maxSpins[idx]) {
          clearInterval(interval);
          results[idx]=slotSymbols[Math.floor(Math.random()*slotSymbols.length)];
          completed++;
          if (completed===3) {
            if (results.every(s=>s===results[0])) {
              balance+=betAmount*5;
              resultDiv.innerText=`üéâ Jackpot! You won $${betAmount*5}!`;
              winSound.play();
            } else {
              balance-=betAmount;
              resultDiv.innerText=`Try again! You lost $${betAmount}.`;
              loseSound.play();
            }
            updateBalance();
            document.getElementById('spin-btn').disabled=false;
            spinning=false;
          }
        }
      }, 100);
    });
  }

  // -------- Dice Roll --------
  function rollDice() {
    const betAmount=getBet();
    if (betAmount===null) return;
    const dice=Math.floor(Math.random()*6)+1;
    document.getElementById('dice-result').innerText='üé≤ '+dice;
    if (dice>=4) { // simple win condition
      balance+=betAmount;
      resultDiv.innerText=`You rolled a ${dice}. You won $${betAmount}!`;
      winSound.play();
    } else {
      balance-=betAmount;
      resultDiv.innerText=`You rolled a ${dice}. You lost $${betAmount}.`;
      loseSound.play();
    }
    updateBalance();
  }

  // -------- Blackjack (simplified) --------
  function startBlackjack() {
    // For demo, just a simple win/lose
    const betAmount=getBet();
    if (betAmount===null) return;
    const outcome=Math.random()>0.5?'Win':'Lose';
    if (outcome==='Win') {
      balance+=betAmount;
      resultDiv.innerText=`Blackjack! You won $${betAmount}!`;
      winSound.play();
    } else {
      balance-=betAmount;
      resultDiv.innerText=`Blackjack! You lost $${betAmount}.`;
      loseSound.play();
    }
    updateBalance();
  }

  // Initialize
  updateBalance();
  showGame('roulette');
</script>
</body>
</html>
